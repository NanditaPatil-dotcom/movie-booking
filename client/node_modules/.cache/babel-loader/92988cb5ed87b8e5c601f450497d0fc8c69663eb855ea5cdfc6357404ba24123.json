{"ast":null,"code":"var _jsxFileName = \"/home/nandita/Downloads/movie-booking/client/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useParams, useLocation, Link } from 'react-router-dom';\nimport { useMemo, useState, useEffect } from 'react';\nimport Home from './pages/Home';\nimport Movies from './pages/Movies';\nimport Seats from './pages/Seats';\nimport Showtime from './pages/Showtime';\nimport SignIn from './pages/SignIn';\nimport SignUp from './pages/SignUp';\nimport { Navigation } from './components/Navigation';\nimport { Button } from './components/ui/Button';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { RequireAuth } from './components/RequireAuth';\nimport api from './utils/axios';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colors = {\n  red: '#BD292C',\n  white: '#FFFFFF',\n  light: '#D9D9D9',\n  gray: '#3F3B3B'\n};\nfunction useQuery() {\n  _s();\n  const {\n    search\n  } = useLocation();\n  return useMemo(() => new URLSearchParams(search), [search]);\n}\n_s(useQuery, \"I+9F+Vhfmc3otMLqUKFlYflxhf8=\", false, function () {\n  return [useLocation];\n});\nfunction formatTime(isoString) {\n  if (!isoString) return '10:00 AM';\n  const s = String(isoString).trim();\n\n  // If the string is explicitly 'Invalid Date', return a safe fallback\n  if (s.toLowerCase() === 'invalid date') return '-';\n\n  // If it's already a human-readable time like \"10:00 AM\", normalize and return\n  const timeMatch = s.match(/^(\\d{1,2}:\\d{2}\\s?(AM|PM))$/i);\n  if (timeMatch) return timeMatch[0].toUpperCase();\n\n  // Try parsing as a Date. If valid, format the time portion.\n  let date = new Date(s);\n  if (isNaN(date)) {\n    // Some strings may be ISO without timezone — try appending Z\n    try {\n      date = new Date(s + 'Z');\n    } catch (e) {\n      // ignore\n    }\n  }\n  if (!isNaN(date)) {\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n\n  // Fallback: show the raw string (but avoid showing 'Invalid Date')\n  return s;\n}\n\n// Client-side tolerant showtime matcher (mirrors server/utils/timeUtils.js behavior)\nfunction findShowtimeClient(movie, selectedShowtime) {\n  const key = String(selectedShowtime || '').trim();\n  if (!movie || !Array.isArray(movie.showtimes)) return null;\n\n  // 1) exact string match\n  let st = movie.showtimes.find(s => String(s.time).trim() === key);\n  if (st) return st;\n\n  // 2) compare ISO strings\n  st = movie.showtimes.find(s => {\n    try {\n      return new Date(s.time).toISOString() === new Date(key).toISOString();\n    } catch (e) {\n      return false;\n    }\n  });\n  if (st) return st;\n\n  // 3) +/- 60 seconds tolerance\n  try {\n    const target = new Date(key);\n    if (!isNaN(target)) {\n      const start = new Date(target.getTime() - 60000),\n        end = new Date(target.getTime() + 60000);\n      return movie.showtimes.find(s => {\n        const d = new Date(s.time);\n        return !isNaN(d) && d >= start && d <= end;\n      });\n    }\n  } catch (e) {}\n  return null;\n}\nfunction Container({\n  children,\n  maxWidth = '1200px'\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth,\n      margin: '0 auto',\n      padding: '2rem 1rem'\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_c = Container;\nfunction Panel({\n  children,\n  style\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: colors.white,\n      borderRadius: '0.5rem',\n      border: `1px solid ${colors.gray}22`,\n      boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\n      padding: '1rem',\n      ...style\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n// Payment page\n_c2 = Panel;\nfunction Payment() {\n  _s2();\n  const {\n    id\n  } = useParams();\n  const query = useQuery();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  // Accept either `showtime` or `time` query params (some pages use one or the other)\n  const time = query.get('showtime') || query.get('time') || '10:00 AM';\n  const seats = (query.get('seats') || '').split(',').filter(Boolean);\n  const pricePerSeat = 90;\n  const subtotal = seats.length * pricePerSeat;\n  const convenience = 50;\n  const tax = 30;\n  const total = subtotal + convenience + tax;\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [method, setMethod] = useState('card');\n  const [loading, setLoading] = useState(false);\n  const confirm = async () => {\n    if (!user) {\n      alert('Please log in to complete your booking');\n      navigate('/signin');\n      return;\n    }\n    console.log('[Payment] User object:', user);\n    console.log('[Payment] Seats array:', seats);\n    setLoading(true);\n    try {\n      console.log('[Payment] Creating booking:', {\n        movieId: id,\n        showtime: time,\n        seats,\n        totalAmount: total\n      });\n\n      // Fetch movie to resolve the exact showtime string stored on the server\n      let exactShowtime = time;\n      try {\n        const movieRes = await api.get(`/movies/${id}`);\n        const movie = movieRes.data;\n        const matched = findShowtimeClient(movie, time);\n        if (matched) {\n          exactShowtime = matched.time;\n          console.log('[Payment] Resolved exact showtime to:', exactShowtime);\n        } else {\n          console.warn('[Payment] Could not resolve exact showtime for:', time);\n        }\n      } catch (fetchErr) {\n        console.warn('[Payment] Failed to fetch movie to resolve showtime:', fetchErr);\n      }\n      const bookingData = {\n        userId: user._id || user.id,\n        movieId: id,\n        movieTitle: 'Movie Title',\n        // This should come from movie data\n        showtime: exactShowtime,\n        seats,\n        totalAmount: total,\n        email: user.email,\n        name: user.name\n      };\n      console.log('[Payment] Sending booking data:', bookingData);\n      const response = await api.post('/bookings/create', bookingData);\n      console.log('[Payment] Booking created successfully:', response.data);\n      navigate('/confirmation');\n    } catch (error) {\n      var _error$response, _error$response2, _data$error;\n      console.error('[Payment] Booking failed:', error);\n      const status = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n      const data = (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data;\n      if (status === 400 && data !== null && data !== void 0 && (_data$error = data.error) !== null && _data$error !== void 0 && _data$error.includes('already booked')) {\n        alert('Booking conflict: One or more seats were already booked. Please select different seats.');\n        navigate(`/seats/${id}?showtime=${encodeURIComponent(time)}`);\n      } else if (status === 404 && data) {\n        // Show informative message from server when showtime not found\n        const available = data.availableShowtimes ? ` Available: ${data.availableShowtimes.join(', ')}` : '';\n        alert(`Booking failed: ${data.error || 'Not Found'}.${available}`);\n        // Navigate back to seats so user can re-select\n        navigate(`/seats/${id}?showtime=${encodeURIComponent(time)}`);\n      } else {\n        const serverMsg = (data === null || data === void 0 ? void 0 : data.error) || error.message;\n        alert(`Booking failed. ${serverMsg}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: colors.light,\n      color: colors.gray\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1.2fr 1fr',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Panel, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontWeight: 800,\n              marginBottom: '1rem'\n            },\n            children: \"Payment Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                marginBottom: '0.5rem'\n              },\n              children: \"Contact Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                marginBottom: '0.25rem'\n              },\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              placeholder: \"Email\",\n              style: {\n                width: '100%',\n                height: '2.5rem',\n                borderRadius: '0.5rem',\n                padding: '0 0.75rem',\n                border: `1px solid ${colors.gray}33`,\n                background: colors.white,\n                color: colors.gray,\n                marginBottom: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                marginBottom: '0.25rem'\n              },\n              children: \"Phone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: phone,\n              onChange: e => setPhone(e.target.value),\n              placeholder: \"Phone\",\n              style: {\n                width: '100%',\n                height: '2.5rem',\n                borderRadius: '0.5rem',\n                padding: '0 0.75rem',\n                border: `1px solid ${colors.gray}33`,\n                background: colors.white,\n                color: colors.gray\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700,\n                marginBottom: '0.5rem'\n              },\n              children: \"Choose Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"pm\",\n                checked: method === 'card',\n                onChange: () => setMethod('card')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), \" Credit/Debit Card\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"pm\",\n                checked: method === 'upi',\n                onChange: () => setMethod('upi')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), \" UPI / Digital Wallet\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"pm\",\n                checked: method === 'mobile',\n                onChange: () => setMethod('mobile')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), \" Mobile Wallet\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Panel, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontWeight: 800,\n              marginBottom: '0.75rem'\n            },\n            children: \"Booking Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#5A5656'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.5rem',\n                fontWeight: 700\n              },\n              children: \"The Cosmic Adventure\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.5rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '0.1rem 0.5rem',\n                  borderRadius: '9999px',\n                  background: colors.light,\n                  border: `1px solid ${colors.gray}33`\n                },\n                children: \"Sci-Fi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 55\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: \"Grand Cinema Hall 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: \"Oct 28, 2025\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: formatTime(time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.75rem'\n              },\n              children: [\"Seats: \", seats.join(', ') || '-']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: '1fr auto',\n                gap: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Rs. \", subtotal]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 36\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Convenience fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Rs. \", convenience]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Tax (8%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Rs. \", tax]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 36\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 800,\n                  borderTop: `1px solid ${colors.gray}22`,\n                  paddingTop: '0.25rem'\n                },\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 800,\n                  borderTop: `1px solid ${colors.gray}22`,\n                  paddingTop: '0.25rem'\n                },\n                children: [\"Rs. \", total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"lg\",\n              style: {\n                width: '100%'\n              },\n              onClick: confirm,\n              disabled: loading,\n              children: loading ? 'Processing...' : 'Confirm and Pay'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n_s2(Payment, \"DMbzz5HuduPY0gGrpAMrxffs+H4=\", false, function () {\n  return [useParams, useQuery, useNavigate, useAuth];\n});\n_c3 = Payment;\nfunction Confirmation() {\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: colors.light,\n      color: colors.gray\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"900px\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '4rem',\n          paddingBottom: '4rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '2.5rem',\n            fontWeight: 800,\n            marginBottom: '0.5rem'\n          },\n          children: \"Thank You !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#5A5656',\n            marginBottom: '1rem'\n          },\n          children: \"A confirmation regarding the tickets booked is sent to your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/movies\",\n          style: {\n            color: colors.red,\n            fontWeight: 700,\n            textDecoration: 'none'\n          },\n          children: \"Enjoy your Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1.5rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/movies\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"lg\",\n              children: \"Continue browsing movies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n}\n_c4 = Confirmation;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/movies\",\n            element: /*#__PURE__*/_jsxDEV(Movies, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signin\",\n            element: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/showtime/:id\",\n            element: /*#__PURE__*/_jsxDEV(Showtime, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/seats/:id\",\n            element: /*#__PURE__*/_jsxDEV(Seats, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/payment/:id\",\n            element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n              children: /*#__PURE__*/_jsxDEV(Payment, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/confirmation\",\n            element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n              children: /*#__PURE__*/_jsxDEV(Confirmation, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n}\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Panel\");\n$RefreshReg$(_c3, \"Payment\");\n$RefreshReg$(_c4, \"Confirmation\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","useNavigate","useParams","useLocation","Link","useMemo","useState","useEffect","Home","Movies","Seats","Showtime","SignIn","SignUp","Navigation","Button","AuthProvider","useAuth","RequireAuth","api","jsxDEV","_jsxDEV","colors","red","white","light","gray","useQuery","_s","search","URLSearchParams","formatTime","isoString","s","String","trim","toLowerCase","timeMatch","match","toUpperCase","date","Date","isNaN","e","toLocaleTimeString","hour","minute","hour12","findShowtimeClient","movie","selectedShowtime","key","Array","isArray","showtimes","st","find","time","toISOString","target","start","getTime","end","d","Container","children","maxWidth","style","margin","padding","fileName","_jsxFileName","lineNumber","columnNumber","_c","Panel","backgroundColor","borderRadius","border","boxShadow","_c2","Payment","_s2","id","query","navigate","user","get","seats","split","filter","Boolean","pricePerSeat","subtotal","length","convenience","tax","total","email","setEmail","phone","setPhone","method","setMethod","loading","setLoading","confirm","alert","console","log","movieId","showtime","totalAmount","exactShowtime","movieRes","data","matched","warn","fetchErr","bookingData","userId","_id","movieTitle","name","response","post","error","_error$response","_error$response2","_data$error","status","includes","encodeURIComponent","available","availableShowtimes","join","serverMsg","message","minHeight","color","display","gridTemplateColumns","gap","fontWeight","marginBottom","fontSize","value","onChange","placeholder","width","height","background","alignItems","type","checked","borderTop","paddingTop","marginTop","size","onClick","disabled","_c3","Confirmation","textAlign","paddingBottom","to","textDecoration","_c4","App","className","path","element","_c5","$RefreshReg$"],"sources":["/home/nandita/Downloads/movie-booking/client/src/App.jsx"],"sourcesContent":["import { BrowserRouter as Router, Routes, Route, useNavigate, useParams, useLocation, Link } from 'react-router-dom'\nimport { useMemo, useState, useEffect } from 'react'\nimport Home from './pages/Home'\nimport Movies from './pages/Movies'\nimport Seats from './pages/Seats'\nimport Showtime from './pages/Showtime'\nimport SignIn from './pages/SignIn'\nimport SignUp from './pages/SignUp'\nimport { Navigation } from './components/Navigation'\nimport { Button } from './components/ui/Button'\nimport { AuthProvider, useAuth } from './contexts/AuthContext'\nimport { RequireAuth } from './components/RequireAuth'\nimport api from './utils/axios'\nimport './styles/App.css'\n\nconst colors = {\n  red: '#BD292C',\n  white: '#FFFFFF',\n  light: '#D9D9D9',\n  gray: '#3F3B3B'\n}\n\nfunction useQuery() {\n  const { search } = useLocation()\n  return useMemo(() => new URLSearchParams(search), [search])\n}\n\nfunction formatTime(isoString) {\n  if (!isoString) return '10:00 AM'\n  const s = String(isoString).trim()\n\n  // If the string is explicitly 'Invalid Date', return a safe fallback\n  if (s.toLowerCase() === 'invalid date') return '-'\n\n  // If it's already a human-readable time like \"10:00 AM\", normalize and return\n  const timeMatch = s.match(/^(\\d{1,2}:\\d{2}\\s?(AM|PM))$/i)\n  if (timeMatch) return timeMatch[0].toUpperCase()\n\n  // Try parsing as a Date. If valid, format the time portion.\n  let date = new Date(s)\n  if (isNaN(date)) {\n    // Some strings may be ISO without timezone — try appending Z\n    try {\n      date = new Date(s + 'Z')\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  if (!isNaN(date)) {\n    return date.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })\n  }\n\n  // Fallback: show the raw string (but avoid showing 'Invalid Date')\n  return s\n}\n\n// Client-side tolerant showtime matcher (mirrors server/utils/timeUtils.js behavior)\nfunction findShowtimeClient(movie, selectedShowtime) {\n  const key = String(selectedShowtime || '').trim()\n  if (!movie || !Array.isArray(movie.showtimes)) return null\n\n  // 1) exact string match\n  let st = movie.showtimes.find(s => String(s.time).trim() === key)\n  if (st) return st\n\n  // 2) compare ISO strings\n  st = movie.showtimes.find(s => {\n    try { return new Date(s.time).toISOString() === new Date(key).toISOString() } catch (e) { return false }\n  })\n  if (st) return st\n\n  // 3) +/- 60 seconds tolerance\n  try {\n    const target = new Date(key)\n    if (!isNaN(target)) {\n      const start = new Date(target.getTime() - 60000), end = new Date(target.getTime() + 60000)\n      return movie.showtimes.find(s => {\n        const d = new Date(s.time)\n        return !isNaN(d) && d >= start && d <= end\n      })\n    }\n  } catch (e) {}\n\n  return null\n}\n\nfunction Container({ children, maxWidth = '1200px' }) {\n  return (\n    <div style={{ maxWidth, margin: '0 auto', padding: '2rem 1rem' }}>{children}</div>\n  )\n}\n\nfunction Panel({ children, style }) {\n  return (\n    <div\n      style={{\n        backgroundColor: colors.white,\n        borderRadius: '0.5rem',\n        border: `1px solid ${colors.gray}22`,\n        boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\n        padding: '1rem',\n        ...style\n      }}\n    >\n      {children}\n    </div>\n  )\n}\n\n\n\n\n// Payment page\nfunction Payment() {\n  const { id } = useParams()\n  const query = useQuery()\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  // Accept either `showtime` or `time` query params (some pages use one or the other)\n  const time = query.get('showtime') || query.get('time') || '10:00 AM'\n  const seats = (query.get('seats') || '').split(',').filter(Boolean)\n\n  const pricePerSeat = 90\n  const subtotal = seats.length * pricePerSeat\n  const convenience = 50\n  const tax = 30\n  const total = subtotal + convenience + tax\n\n  const [email, setEmail] = useState('')\n  const [phone, setPhone] = useState('')\n  const [method, setMethod] = useState('card')\n  const [loading, setLoading] = useState(false)\n\n  const confirm = async () => {\n    if (!user) {\n      alert('Please log in to complete your booking')\n      navigate('/signin')\n      return\n    }\n\n    console.log('[Payment] User object:', user)\n    console.log('[Payment] Seats array:', seats)\n\n    setLoading(true)\n    try {\n      console.log('[Payment] Creating booking:', { movieId: id, showtime: time, seats, totalAmount: total })\n\n      // Fetch movie to resolve the exact showtime string stored on the server\n      let exactShowtime = time\n      try {\n        const movieRes = await api.get(`/movies/${id}`)\n        const movie = movieRes.data\n        const matched = findShowtimeClient(movie, time)\n        if (matched) {\n          exactShowtime = matched.time\n          console.log('[Payment] Resolved exact showtime to:', exactShowtime)\n        } else {\n          console.warn('[Payment] Could not resolve exact showtime for:', time)\n        }\n      } catch (fetchErr) {\n        console.warn('[Payment] Failed to fetch movie to resolve showtime:', fetchErr)\n      }\n\n      const bookingData = {\n        userId: user._id || user.id,\n        movieId: id,\n        movieTitle: 'Movie Title', // This should come from movie data\n        showtime: exactShowtime,\n        seats,\n        totalAmount: total,\n        email: user.email,\n        name: user.name\n      }\n\n      console.log('[Payment] Sending booking data:', bookingData)\n\n      const response = await api.post('/bookings/create', bookingData)\n\n      console.log('[Payment] Booking created successfully:', response.data)\n      navigate('/confirmation')\n    } catch (error) {\n      console.error('[Payment] Booking failed:', error)\n\n      const status = error.response?.status\n      const data = error.response?.data\n\n      if (status === 400 && data?.error?.includes('already booked')) {\n        alert('Booking conflict: One or more seats were already booked. Please select different seats.')\n        navigate(`/seats/${id}?showtime=${encodeURIComponent(time)}`)\n      } else if (status === 404 && data) {\n        // Show informative message from server when showtime not found\n        const available = data.availableShowtimes ? ` Available: ${data.availableShowtimes.join(', ')}` : ''\n        alert(`Booking failed: ${data.error || 'Not Found'}.${available}`)\n        // Navigate back to seats so user can re-select\n        navigate(`/seats/${id}?showtime=${encodeURIComponent(time)}`)\n      } else {\n        const serverMsg = data?.error || error.message\n        alert(`Booking failed. ${serverMsg}`)\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <main style={{ minHeight: '100vh', backgroundColor: colors.light, color: colors.gray }}>\n      <Navigation />\n      <Container>\n        <div style={{ display: 'grid', gridTemplateColumns: '1.2fr 1fr', gap: '1rem' }}>\n          <Panel>\n            <h2 style={{ fontWeight: 800, marginBottom: '1rem' }}>Payment Details</h2>\n            <div style={{ marginBottom: '1rem' }}>\n              <div style={{ fontWeight: 700, marginBottom: '0.5rem' }}>Contact Information</div>\n              <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Email:</label>\n              <input\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"Email\"\n                style={{ width: '100%', height: '2.5rem', borderRadius: '0.5rem', padding: '0 0.75rem', border: `1px solid ${colors.gray}33`, background: colors.white, color: colors.gray, marginBottom: '0.5rem' }}\n              />\n              <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem' }}>Phone:</label>\n              <input\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n                placeholder=\"Phone\"\n                style={{ width: '100%', height: '2.5rem', borderRadius: '0.5rem', padding: '0 0.75rem', border: `1px solid ${colors.gray}33`, background: colors.white, color: colors.gray }}\n              />\n            </div>\n            <div>\n              <div style={{ fontWeight: 700, marginBottom: '0.5rem' }}>Choose Payment Method</div>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.25rem' }}>\n                <input type=\"radio\" name=\"pm\" checked={method==='card'} onChange={() => setMethod('card')} /> Credit/Debit Card\n              </label>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.25rem' }}>\n                <input type=\"radio\" name=\"pm\" checked={method==='upi'} onChange={() => setMethod('upi')} /> UPI / Digital Wallet\n              </label>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <input type=\"radio\" name=\"pm\" checked={method==='mobile'} onChange={() => setMethod('mobile')} /> Mobile Wallet\n              </label>\n            </div>\n          </Panel>\n          <Panel>\n            <h3 style={{ fontWeight: 800, marginBottom: '0.75rem' }}>Booking Summary</h3>\n            <div style={{ fontSize: '0.875rem', color: '#5A5656' }}>\n              <div style={{ marginBottom: '0.5rem', fontWeight: 700 }}>The Cosmic Adventure</div>\n              <div style={{ marginBottom: '0.5rem' }}><span style={{ padding: '0.1rem 0.5rem', borderRadius: '9999px', background: colors.light, border: `1px solid ${colors.gray}33` }}>Sci-Fi</span></div>\n              <div style={{ marginBottom: '0.25rem' }}>Grand Cinema Hall 1</div>\n              <div style={{ marginBottom: '0.25rem' }}>Oct 28, 2025</div>\n              <div style={{ marginBottom: '0.25rem' }}>{formatTime(time)}</div>\n              <div style={{ marginBottom: '0.75rem' }}>Seats: {seats.join(', ') || '-'}</div>\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr auto', gap: '0.25rem' }}>\n                <div>Subtotal</div><div>Rs. {subtotal}</div>\n                <div>Convenience fee</div><div>Rs. {convenience}</div>\n                <div>Tax (8%)</div><div>Rs. {tax}</div>\n                <div style={{ fontWeight: 800, borderTop: `1px solid ${colors.gray}22`, paddingTop: '0.25rem' }}>Total</div>\n                <div style={{ fontWeight: 800, borderTop: `1px solid ${colors.gray}22`, paddingTop: '0.25rem' }}>Rs. {total}</div>\n              </div>\n            </div>\n            <div style={{ marginTop: '1rem' }}>\n              <Button size=\"lg\" style={{ width: '100%' }} onClick={confirm} disabled={loading}>\n                {loading ? 'Processing...' : 'Confirm and Pay'}\n              </Button>\n            </div>\n          </Panel>\n        </div>\n      </Container>\n    </main>\n  )\n}\n\nfunction Confirmation() {\n  return (\n    <main style={{ minHeight: '100vh', backgroundColor: colors.light, color: colors.gray }}>\n      <Navigation />\n      <Container maxWidth=\"900px\">\n        <div style={{ textAlign: 'center', paddingTop: '4rem', paddingBottom: '4rem' }}>\n          <h1 style={{ fontSize: '2.5rem', fontWeight: 800, marginBottom: '0.5rem' }}>Thank You !</h1>\n          <p style={{ color: '#5A5656', marginBottom: '1rem' }}>\n            A confirmation regarding the tickets booked is sent to your email\n          </p>\n          <Link to=\"/movies\" style={{ color: colors.red, fontWeight: 700, textDecoration: 'none' }}>Enjoy your Movie</Link>\n          <div style={{ marginTop: '1.5rem' }}>\n            <Link to=\"/movies\">\n              <Button size=\"lg\">Continue browsing movies</Button>\n            </Link>\n          </div>\n        </div>\n      </Container>\n    </main>\n  )\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/movies\" element={<Movies />} />\n            <Route path=\"/signin\" element={<SignIn />} />\n            <Route path=\"/signup\" element={<SignUp />} />\n            <Route path=\"/showtime/:id\" element={<Showtime />} />\n            <Route path=\"/seats/:id\" element={<Seats />} />\n            <Route path=\"/payment/:id\" element={\n              <RequireAuth>\n                <Payment />\n              </RequireAuth>\n            } />\n            <Route path=\"/confirmation\" element={\n              <RequireAuth>\n                <Confirmation />\n              </RequireAuth>\n            } />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  )\n}\n\nexport default App\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}