{"ast":null,"code":"// Booking storage utilities for preserving selection through login\nconst BOOKING_KEY='pendingBooking';export function saveBookingPayload(payload){try{// Validate payload structure\nif(!payload||typeof payload!=='object'){console.warn('Invalid booking payload');return false;}// Required fields\nconst required=['movieId','showtimeId','selectedSeats'];for(const field of required){if(!payload[field]){console.warn(\"Missing required field: \".concat(field));return false;}}// Optional but recommended\nif(!Array.isArray(payload.selectedSeats)||payload.selectedSeats.length===0){console.warn('selectedSeats must be a non-empty array');return false;}localStorage.setItem(BOOKING_KEY,JSON.stringify(payload));return true;}catch(error){console.error('Failed to save booking payload:',error);return false;}}export function getBookingPayload(){try{const stored=localStorage.getItem(BOOKING_KEY);if(!stored)return null;const payload=JSON.parse(stored);// Basic validation\nif(!payload||!payload.movieId||!payload.selectedSeats){console.warn('Invalid stored booking payload');clearBookingPayload();return null;}return payload;}catch(error){console.error('Failed to retrieve booking payload:',error);clearBookingPayload();return null;}}export function clearBookingPayload(){localStorage.removeItem(BOOKING_KEY);}export function hasPendingBooking(){return getBookingPayload()!==null;}","map":{"version":3,"names":["BOOKING_KEY","saveBookingPayload","payload","console","warn","required","field","concat","Array","isArray","selectedSeats","length","localStorage","setItem","JSON","stringify","error","getBookingPayload","stored","getItem","parse","movieId","clearBookingPayload","removeItem","hasPendingBooking"],"sources":["/home/nandita/Downloads/movie-booking/client/src/utils/bookingStorage.js"],"sourcesContent":["// Booking storage utilities for preserving selection through login\n\nconst BOOKING_KEY = 'pendingBooking'\n\nexport function saveBookingPayload(payload) {\n  try {\n    // Validate payload structure\n    if (!payload || typeof payload !== 'object') {\n      console.warn('Invalid booking payload')\n      return false\n    }\n\n    // Required fields\n    const required = ['movieId', 'showtimeId', 'selectedSeats']\n    for (const field of required) {\n      if (!payload[field]) {\n        console.warn(`Missing required field: ${field}`)\n        return false\n      }\n    }\n\n    // Optional but recommended\n    if (!Array.isArray(payload.selectedSeats) || payload.selectedSeats.length === 0) {\n      console.warn('selectedSeats must be a non-empty array')\n      return false\n    }\n\n    localStorage.setItem(BOOKING_KEY, JSON.stringify(payload))\n    return true\n  } catch (error) {\n    console.error('Failed to save booking payload:', error)\n    return false\n  }\n}\n\nexport function getBookingPayload() {\n  try {\n    const stored = localStorage.getItem(BOOKING_KEY)\n    if (!stored) return null\n\n    const payload = JSON.parse(stored)\n\n    // Basic validation\n    if (!payload || !payload.movieId || !payload.selectedSeats) {\n      console.warn('Invalid stored booking payload')\n      clearBookingPayload()\n      return null\n    }\n\n    return payload\n  } catch (error) {\n    console.error('Failed to retrieve booking payload:', error)\n    clearBookingPayload()\n    return null\n  }\n}\n\nexport function clearBookingPayload() {\n  localStorage.removeItem(BOOKING_KEY)\n}\n\nexport function hasPendingBooking() {\n  return getBookingPayload() !== null\n}"],"mappings":"AAAA;AAEA,KAAM,CAAAA,WAAW,CAAG,gBAAgB,CAEpC,MAAO,SAAS,CAAAC,kBAAkBA,CAACC,OAAO,CAAE,CAC1C,GAAI,CACF;AACA,GAAI,CAACA,OAAO,EAAI,MAAO,CAAAA,OAAO,GAAK,QAAQ,CAAE,CAC3CC,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAC,CACvC,MAAO,MAAK,CACd,CAEA;AACA,KAAM,CAAAC,QAAQ,CAAG,CAAC,SAAS,CAAE,YAAY,CAAE,eAAe,CAAC,CAC3D,IAAK,KAAM,CAAAC,KAAK,GAAI,CAAAD,QAAQ,CAAE,CAC5B,GAAI,CAACH,OAAO,CAACI,KAAK,CAAC,CAAE,CACnBH,OAAO,CAACC,IAAI,4BAAAG,MAAA,CAA4BD,KAAK,CAAE,CAAC,CAChD,MAAO,MAAK,CACd,CACF,CAEA;AACA,GAAI,CAACE,KAAK,CAACC,OAAO,CAACP,OAAO,CAACQ,aAAa,CAAC,EAAIR,OAAO,CAACQ,aAAa,CAACC,MAAM,GAAK,CAAC,CAAE,CAC/ER,OAAO,CAACC,IAAI,CAAC,yCAAyC,CAAC,CACvD,MAAO,MAAK,CACd,CAEAQ,YAAY,CAACC,OAAO,CAACb,WAAW,CAAEc,IAAI,CAACC,SAAS,CAACb,OAAO,CAAC,CAAC,CAC1D,MAAO,KAAI,CACb,CAAE,MAAOc,KAAK,CAAE,CACdb,OAAO,CAACa,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,MAAO,MAAK,CACd,CACF,CAEA,MAAO,SAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAClC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGN,YAAY,CAACO,OAAO,CAACnB,WAAW,CAAC,CAChD,GAAI,CAACkB,MAAM,CAAE,MAAO,KAAI,CAExB,KAAM,CAAAhB,OAAO,CAAGY,IAAI,CAACM,KAAK,CAACF,MAAM,CAAC,CAElC;AACA,GAAI,CAAChB,OAAO,EAAI,CAACA,OAAO,CAACmB,OAAO,EAAI,CAACnB,OAAO,CAACQ,aAAa,CAAE,CAC1DP,OAAO,CAACC,IAAI,CAAC,gCAAgC,CAAC,CAC9CkB,mBAAmB,CAAC,CAAC,CACrB,MAAO,KAAI,CACb,CAEA,MAAO,CAAApB,OAAO,CAChB,CAAE,MAAOc,KAAK,CAAE,CACdb,OAAO,CAACa,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC3DM,mBAAmB,CAAC,CAAC,CACrB,MAAO,KAAI,CACb,CACF,CAEA,MAAO,SAAS,CAAAA,mBAAmBA,CAAA,CAAG,CACpCV,YAAY,CAACW,UAAU,CAACvB,WAAW,CAAC,CACtC,CAEA,MAAO,SAAS,CAAAwB,iBAAiBA,CAAA,CAAG,CAClC,MAAO,CAAAP,iBAAiB,CAAC,CAAC,GAAK,IAAI,CACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}